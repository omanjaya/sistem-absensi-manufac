import{e as m,E as u,s,d as te,r as c,c as se,o as ae,H as o,B as l,l as n,t as v,F as C,z as P,j as le,v as r,g as B,f as F,q,Q as oe,R as ne}from"./vendor-5hdk-FM1.js";import{_ as p,a as J}from"./Toast.vue_vue_type_style_index_0_scoped_caf7d6d7_lang-C7Vi0Lv3.js";import{_ as j,a as z}from"./MetricCard.vue_vue_type_script_setup_true_lang-MRCzEDgO.js";import{_ as x}from"./Form.vue_vue_type_script_setup_true_lang-Cf_hhWd7.js";import{_ as L}from"./Modal.vue_vue_type_script_setup_true_lang-B2LSZhV7.js";import{_ as ie}from"./Table.vue_vue_type_script_setup_true_lang-BoFOdIMn.js";import{a as re}from"./index-CpcTDv9q.js";import{r as de}from"./FolderIcon-BNgd2JSl.js";import{r as ue}from"./PlayIcon-B6RN7Pcz.js";import{r as me}from"./CheckCircleIcon-CxojgCya.js";import{r as R}from"./UserGroupIcon-CVxCyeZM.js";function ce(E,f){return u(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function ve(E,f){return u(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}const pe={class:"p-6 space-y-6"},ge={class:"flex items-center justify-between"},fe={class:"flex items-center space-x-3"},be={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},_e={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},xe={class:"space-y-4"},ye={class:"flex items-center justify-between text-sm mb-1"},he={class:"font-medium"},we={class:"w-full bg-gray-200 rounded-full h-2"},ke={class:"flex items-center justify-between text-sm"},Ce={class:"flex items-center space-x-1"},Pe={class:"text-gray-600"},je={class:"flex items-center space-x-1"},De={class:"text-gray-600"},Ve={class:"flex -space-x-2"},$e={key:0,class:"relative w-8 h-8 bg-gray-400 rounded-full flex items-center justify-center text-white text-xs font-medium border-2 border-white"},Se={class:"flex space-x-2"},Me={class:"flex flex-col items-center justify-center py-12 text-center"},Ae={class:"flex items-center space-x-2"},Ue={class:"w-20 bg-gray-200 rounded-full h-2"},Be={class:"text-sm font-medium"},Fe={class:"text-sm text-gray-900"},ze={class:"flex space-x-1"},Ee={class:"space-y-6"},Te={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ne={class:"space-y-2"},qe=["id","value"],Je=["for"],Le={class:"flex space-x-2"},Re={key:0,class:"space-y-6"},He={class:"flex items-start justify-between"},Oe={class:"text-xl font-semibold text-gray-900"},Qe={class:"text-gray-600 mt-1"},Xe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},We={class:"bg-gray-50 p-4 rounded-lg"},Ge={class:"text-2xl font-semibold text-gray-900"},Ke={class:"bg-gray-50 p-4 rounded-lg"},Ye={class:"text-2xl font-semibold text-gray-900"},Ze={class:"bg-gray-50 p-4 rounded-lg"},et={class:"text-2xl font-semibold text-gray-900"},tt={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},st={class:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-medium"},at={class:"text-sm font-medium text-gray-900"},lt={class:"text-xs text-gray-500"},ot={class:"flex space-x-2"},bt=te({__name:"Projects",setup(E){const f=re(),k=c(""),y=c(!1),h=c(!1),w=c(!1),D=c(!1),d=c(null),b=c({totalProjects:45,totalChange:8,activeProjects:12,activeChange:3,completedProjects:28,completedChange:5,teamMembers:156,membersChange:12}),g=c([{id:1,name:"Employee Portal Redesign",description:"Modernize the employee self-service portal with new UI/UX",status:"active",progress:75,start_date:"2024-01-01",deadline:"2024-03-15",budget:5e7,team_members:[{id:1,name:"John Doe",position:"Frontend Developer"},{id:2,name:"Jane Smith",position:"UI/UX Designer"},{id:3,name:"Mike Johnson",position:"Backend Developer"}]},{id:2,name:"Payroll System Integration",description:"Integrate third-party payroll system with HR database",status:"planning",progress:25,start_date:"2024-02-01",deadline:"2024-05-30",budget:75e6,team_members:[{id:4,name:"Sarah Wilson",position:"System Analyst"},{id:5,name:"Tom Davis",position:"Integration Specialist"}]},{id:3,name:"Mobile App Development",description:"Native mobile app for attendance and leave management",status:"completed",progress:100,start_date:"2023-10-01",deadline:"2024-01-15",budget:1e8,team_members:[{id:6,name:"Alex Brown",position:"Mobile Developer"},{id:7,name:"Lisa Chen",position:"QA Engineer"}]}]),V=c([{id:1,name:"John Doe",position:"Frontend Developer"},{id:2,name:"Jane Smith",position:"UI/UX Designer"},{id:3,name:"Mike Johnson",position:"Backend Developer"},{id:4,name:"Sarah Wilson",position:"System Analyst"},{id:5,name:"Tom Davis",position:"Integration Specialist"},{id:6,name:"Alex Brown",position:"Mobile Developer"},{id:7,name:"Lisa Chen",position:"QA Engineer"}]),i=c({name:"",description:"",status:"planning",start_date:"",deadline:"",budget:"",team_member_ids:[]}),$=c({name:""}),S=[{value:"",label:"All Status"},{value:"planning",label:"Planning"},{value:"active",label:"Active"},{value:"on_hold",label:"On Hold"},{value:"completed",label:"Completed"}],H=[{key:"name",label:"Project Name",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"progress",label:"Progress",sortable:!0},{key:"team_size",label:"Team",sortable:!1},{key:"deadline",label:"Deadline",sortable:!0,type:"date"},{key:"actions",label:"Actions",sortable:!1}],O=[{key:"status",label:"Status",options:S.slice(1)}],Q=se(()=>k.value?g.value.filter(a=>a.status===k.value):g.value);function M(a){return{planning:"info",active:"success",on_hold:"warning",completed:"primary"}[a]||"gray"}function T(a){return a>=80?"bg-green-500":a>=60?"bg-blue-500":a>=40?"bg-yellow-500":"bg-red-500"}function X(a){const e=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#F97316","#06B6D4"];return e[a%e.length]}function I(a){return a.split(" ").map(e=>e[0]).join("").toUpperCase()}function A(a){return new Date(a).toLocaleDateString()}function W(a){return new Date(a)<new Date}function U(a){w.value=!0,d.value=a,i.value={name:a.name,description:a.description,status:a.status,start_date:a.start_date,deadline:a.deadline,budget:a.budget,team_member_ids:a.team_members.map(e=>e.id)},y.value=!0,h.value=!1}function G(a){d.value=a,h.value=!0}function N(){y.value=!1,w.value=!1,d.value=null,i.value={name:"",description:"",status:"planning",start_date:"",deadline:"",budget:"",team_member_ids:[]},$.value={name:""}}async function K(){if(!i.value.name.trim()){$.value.name="Project name is required";return}D.value=!0;try{if(await new Promise(a=>setTimeout(a,1e3)),w.value){const a=g.value.findIndex(e=>{var t;return e.id===((t=d.value)==null?void 0:t.id)});a>-1&&(g.value[a]={...g.value[a],...i.value,team_members:V.value.filter(e=>i.value.team_member_ids.includes(e.id))}),f.success("Project updated successfully!")}else{const a={id:Date.now(),...i.value,progress:0,team_members:V.value.filter(e=>i.value.team_member_ids.includes(e.id))};g.value.push(a),f.success("Project created successfully!")}N()}catch{f.error("Failed to save project")}finally{D.value=!1}}function Y(a){if(confirm("Are you sure you want to delete this project?")){const e=g.value.findIndex(t=>t.id===a);e>-1&&(g.value.splice(e,1),f.success("Project deleted successfully!"))}}async function Z(){try{await new Promise(a=>setTimeout(a,1e3)),f.success("Projects exported to CSV!")}catch{f.error("Failed to export projects")}}return ae(()=>{}),(a,e)=>(u(),m("div",pe,[s("div",ge,[e[15]||(e[15]=s("div",null,[s("h1",{class:"text-2xl font-bold text-gray-900"},"Project Management"),s("p",{class:"text-gray-600"},"Track projects and assign tasks to team members")],-1)),s("div",fe,[o(l(x),{type:"select",modelValue:k.value,"onUpdate:modelValue":e[0]||(e[0]=t=>k.value=t),options:S,placeholder:"Filter by status"},null,8,["modelValue"]),o(l(p),{variant:"primary",onClick:e[1]||(e[1]=t=>y.value=!0)},{default:n(()=>e[14]||(e[14]=[v(" Create Project ")])),_:1,__:[14]})])]),s("div",be,[o(l(j),{label:"Total Projects",value:b.value.totalProjects,icon:l(de),"icon-bg":"blue",change:b.value.totalChange,"change-unit":"",description:"all time"},null,8,["value","icon","change"]),o(l(j),{label:"Active Projects",value:b.value.activeProjects,icon:l(ue),"icon-bg":"green",change:b.value.activeChange,"change-unit":"",description:"currently running"},null,8,["value","icon","change"]),o(l(j),{label:"Completed",value:b.value.completedProjects,icon:l(me),"icon-bg":"purple",change:b.value.completedChange,"change-unit":"",description:"this quarter"},null,8,["value","icon","change"]),o(l(j),{label:"Team Members",value:b.value.teamMembers,icon:l(R),"icon-bg":"yellow",change:b.value.membersChange,"change-unit":"",description:"assigned"},null,8,["value","icon","change"])]),s("div",_e,[(u(!0),m(C,null,P(Q.value,t=>(u(),le(l(J),{key:t.id,title:t.name,subtitle:t.description,hover:""},{headerActions:n(()=>[o(l(z),{variant:M(t.status),label:t.status},null,8,["variant","label"])]),footer:n(()=>[s("div",Se,[o(l(p),{variant:"secondary",size:"sm",onClick:_=>U(t),"full-width":""},{default:n(()=>e[17]||(e[17]=[v(" Edit ")])),_:2,__:[17]},1032,["onClick"]),o(l(p),{variant:"primary",size:"sm",onClick:_=>G(t),"full-width":""},{default:n(()=>e[18]||(e[18]=[v(" View Details ")])),_:2,__:[18]},1032,["onClick"])])]),default:n(()=>[s("div",xe,[s("div",null,[s("div",ye,[e[16]||(e[16]=s("span",{class:"text-gray-600"},"Progress",-1)),s("span",he,r(t.progress)+"%",1)]),s("div",we,[s("div",{class:F(["h-2 rounded-full transition-all duration-300",T(t.progress)]),style:B(`width: ${t.progress}%`)},null,6)])]),s("div",ke,[s("div",Ce,[o(l(R),{class:"w-4 h-4 text-gray-400"}),s("span",Pe,r(t.team_members.length)+" members",1)]),s("div",je,[o(l(ce),{class:"w-4 h-4 text-gray-400"}),s("span",De,r(A(t.deadline)),1)])]),s("div",Ve,[(u(!0),m(C,null,P(t.team_members.slice(0,5),(_,ee)=>(u(),m("div",{key:_.id,class:"relative w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-medium border-2 border-white",style:B(`background-color: ${X(ee)}`)},r(I(_.name)),5))),128)),t.team_members.length>5?(u(),m("div",$e," +"+r(t.team_members.length-5),1)):q("",!0)])])]),_:2},1032,["title","subtitle"]))),128)),o(l(J),{hover:"","custom-class":"border-dashed border-2 border-gray-300 hover:border-blue-400 cursor-pointer transition-colors",onClick:e[2]||(e[2]=t=>y.value=!0)},{default:n(()=>[s("div",Me,[o(l(ve),{class:"w-12 h-12 text-gray-400 mb-4"}),e[19]||(e[19]=s("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Create New Project",-1)),e[20]||(e[20]=s("p",{class:"text-gray-500"},"Start a new project and assign team members",-1))])]),_:1})]),o(l(ie),{title:"All Projects",subtitle:"Complete list of projects with details",data:g.value,columns:H,searchable:"","search-placeholder":"Search projects...",filterable:!0,filters:O,paginated:!0,"page-size":8},{headerActions:n(()=>[o(l(p),{variant:"secondary",onClick:Z},{default:n(()=>e[21]||(e[21]=[v(" Export CSV ")])),_:1,__:[21]})]),"cell-status":n(({value:t})=>[o(l(z),{variant:M(t),label:t},null,8,["variant","label"])]),"cell-progress":n(({value:t})=>[s("div",Ae,[s("div",Ue,[s("div",{class:F(["h-2 rounded-full",T(t)]),style:B(`width: ${t}%`)},null,6)]),s("span",Be,r(t)+"%",1)])]),"cell-team_size":n(({item:t})=>[s("span",Fe,r(t.team_members.length)+" members",1)]),"cell-deadline":n(({value:t})=>[s("span",{class:F(["text-sm",W(t)?"text-red-600":"text-gray-900"])},r(A(t)),3)]),"cell-actions":n(({item:t})=>[s("div",ze,[o(l(p),{variant:"ghost",size:"sm",onClick:_=>U(t)},{default:n(()=>e[22]||(e[22]=[v(" Edit ")])),_:2,__:[22]},1032,["onClick"]),o(l(p),{variant:"ghost",size:"sm",onClick:_=>Y(t.id)},{default:n(()=>e[23]||(e[23]=[v(" Delete ")])),_:2,__:[23]},1032,["onClick"])])]),_:1},8,["data"]),o(l(L),{show:y.value,"onUpdate:show":e[10]||(e[10]=t=>y.value=t),title:w.value?"Edit Project":"Create New Project",size:"lg"},{footer:n(()=>[s("div",Le,[o(l(p),{variant:"secondary",onClick:N},{default:n(()=>e[25]||(e[25]=[v("Cancel")])),_:1,__:[25]}),o(l(p),{variant:"primary",onClick:K,loading:D.value},{default:n(()=>[v(r(w.value?"Update":"Create")+" Project ",1)]),_:1},8,["loading"])])]),default:n(()=>[s("div",Ee,[s("div",Te,[o(l(x),{modelValue:i.value.name,"onUpdate:modelValue":e[3]||(e[3]=t=>i.value.name=t),label:"Project Name",placeholder:"Enter project name",required:!0,error:$.value.name},null,8,["modelValue","error"]),o(l(x),{modelValue:i.value.status,"onUpdate:modelValue":e[4]||(e[4]=t=>i.value.status=t),type:"select",label:"Status",options:S,required:!0},null,8,["modelValue"])]),o(l(x),{modelValue:i.value.description,"onUpdate:modelValue":e[5]||(e[5]=t=>i.value.description=t),type:"textarea",label:"Description",placeholder:"Project description",rows:3},null,8,["modelValue"]),s("div",Ie,[o(l(x),{modelValue:i.value.start_date,"onUpdate:modelValue":e[6]||(e[6]=t=>i.value.start_date=t),type:"date",label:"Start Date",required:!0},null,8,["modelValue"]),o(l(x),{modelValue:i.value.deadline,"onUpdate:modelValue":e[7]||(e[7]=t=>i.value.deadline=t),type:"date",label:"Deadline",required:!0},null,8,["modelValue"])]),o(l(x),{modelValue:i.value.budget,"onUpdate:modelValue":e[8]||(e[8]=t=>i.value.budget=t),type:"number",label:"Budget (IDR)",placeholder:"0"},null,8,["modelValue"]),s("div",null,[e[24]||(e[24]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Team Members",-1)),s("div",Ne,[(u(!0),m(C,null,P(V.value,t=>(u(),m("div",{key:t.id,class:"flex items-center"},[oe(s("input",{id:`member-${t.id}`,type:"checkbox",value:t.id,"onUpdate:modelValue":e[9]||(e[9]=_=>i.value.team_member_ids=_),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,qe),[[ne,i.value.team_member_ids]]),s("label",{for:`member-${t.id}`,class:"ml-2 text-sm text-gray-900"},r(t.name)+" - "+r(t.position),9,Je)]))),128))])])])]),_:1},8,["show","title"]),o(l(L),{show:h.value,"onUpdate:show":e[13]||(e[13]=t=>h.value=t),title:"Project Details",size:"xl"},{footer:n(()=>[s("div",ot,[o(l(p),{variant:"secondary",onClick:e[11]||(e[11]=t=>h.value=!1)},{default:n(()=>e[30]||(e[30]=[v("Close")])),_:1,__:[30]}),o(l(p),{variant:"primary",onClick:e[12]||(e[12]=t=>U(d.value))},{default:n(()=>e[31]||(e[31]=[v("Edit Project")])),_:1,__:[31]})])]),default:n(()=>[d.value?(u(),m("div",Re,[s("div",He,[s("div",null,[s("h3",Oe,r(d.value.name),1),s("p",Qe,r(d.value.description),1)]),o(l(z),{variant:M(d.value.status),label:d.value.status},null,8,["variant","label"])]),s("div",Xe,[s("div",We,[e[26]||(e[26]=s("p",{class:"text-sm text-gray-500"},"Progress",-1)),s("p",Ge,r(d.value.progress)+"%",1)]),s("div",Ke,[e[27]||(e[27]=s("p",{class:"text-sm text-gray-500"},"Team Size",-1)),s("p",Ye,r(d.value.team_members.length),1)]),s("div",Ze,[e[28]||(e[28]=s("p",{class:"text-sm text-gray-500"},"Deadline",-1)),s("p",et,r(A(d.value.deadline)),1)])]),s("div",null,[e[29]||(e[29]=s("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Team Members",-1)),s("div",tt,[(u(!0),m(C,null,P(d.value.team_members,t=>(u(),m("div",{key:t.id,class:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg"},[s("div",st,r(I(t.name)),1),s("div",null,[s("p",at,r(t.name),1),s("p",lt,r(t.position),1)])]))),128))])])])):q("",!0)]),_:1},8,["show"])]))}});export{bt as default};
