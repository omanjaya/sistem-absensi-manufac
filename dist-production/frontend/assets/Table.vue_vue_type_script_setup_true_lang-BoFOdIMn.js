import{d as E,r as m,O as A,c as w,j as F,E as s,l as _,e as l,q as b,s as o,Q as C,V as I,F as v,z as g,v as u,W as T,f as x,G as S,H as z,t as B}from"./vendor-5hdk-FM1.js";import{_ as V,a as U}from"./Toast.vue_vue_type_style_index_0_scoped_caf7d6d7_lang-C7Vi0Lv3.js";const q={key:0,class:"p-4 border-b border-gray-200"},O={class:"flex items-center justify-between space-x-4"},Q={key:0,class:"flex-1 max-w-sm"},G=["placeholder"],H={key:1,class:"flex items-center space-x-2"},K=["onUpdate:modelValue"],R={value:""},W=["value"],J={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-gray-50"},Z=["onClick"],j={class:"flex items-center space-x-1"},ee={key:0,class:"flex flex-col"},te={class:"bg-white divide-y divide-gray-200"},ae={key:1},se=["colspan"],le={key:0},re={key:1},oe={key:2},ne={key:1,class:"px-6 py-3 border-t border-gray-200 bg-gray-50"},ie={class:"flex items-center justify-between"},ue={class:"text-sm text-gray-700"},de={class:"flex items-center space-x-2"},pe=E({__name:"Table",props:{title:{},subtitle:{},data:{},columns:{},loading:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},searchPlaceholder:{default:"Search..."},filterable:{type:Boolean,default:!1},filters:{default:()=>[]},sortable:{type:Boolean,default:!0},paginated:{type:Boolean,default:!1},pageSize:{default:10},emptyMessage:{default:"No data available"}},setup(D){const n=D,h=m(""),c=m(""),y=m("asc"),p=m(1),k=A({});n.filters.forEach(e=>{k[e.key]=""});const f=w(()=>{let e=[...n.data];if(h.value&&n.searchable){const a=h.value.toLowerCase();e=e.filter(t=>n.columns.some(r=>String(d(t,r.key)).toLowerCase().includes(a)))}return n.filterable&&n.filters.forEach(a=>{const t=k[a.key];t&&(e=e.filter(r=>d(r,a.key)===t))}),c.value&&n.sortable&&e.sort((a,t)=>{const r=d(a,c.value),i=d(t,c.value);return r<i?y.value==="asc"?-1:1:r>i?y.value==="asc"?1:-1:0}),e}),$=w(()=>Math.ceil(f.value.length/n.pageSize)),M=w(()=>{if(!n.paginated)return f.value;const e=(p.value-1)*n.pageSize,a=e+n.pageSize;return f.value.slice(e,a)});function d(e,a){return a.split(".").reduce((t,r)=>t==null?void 0:t[r],e)}function N(e){n.sortable&&(c.value===e?y.value=y.value==="asc"?"desc":"asc":(c.value=e,y.value="asc"))}function L(e){return e?new Date(e).toLocaleDateString():""}function P(e){return e?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e):""}return(e,a)=>(s(),F(U,{title:e.title,subtitle:e.subtitle,padding:"none"},{headerActions:_(()=>[S(e.$slots,"headerActions")]),default:_(()=>[e.searchable||e.filterable?(s(),l("div",q,[o("div",O,[e.searchable?(s(),l("div",Q,[C(o("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>h.value=t),type:"text",placeholder:e.searchPlaceholder,class:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"},null,8,G),[[I,h.value]])])):b("",!0),e.filterable&&e.filters.length>0?(s(),l("div",H,[(s(!0),l(v,null,g(e.filters,t=>C((s(),l("select",{key:t.key,"onUpdate:modelValue":r=>k[t.key]=r,class:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"},[o("option",R,u(t.placeholder||`All ${t.label}`),1),(s(!0),l(v,null,g(t.options,r=>(s(),l("option",{key:r.value,value:r.value},u(r.label),9,W))),128))],8,K)),[[T,k[t.key]]])),128))])):b("",!0)])])):b("",!0),o("div",J,[o("table",X,[o("thead",Y,[o("tr",null,[(s(!0),l(v,null,g(e.columns,t=>(s(),l("th",{key:t.key,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:r=>N(t.key)},[o("div",j,[o("span",null,u(t.label),1),e.sortable&&t.sortable!==!1?(s(),l("div",ee,[(s(),l("svg",{class:x(["w-3 h-3",c.value===t.key&&y.value==="asc"?"text-blue-600":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},a[3]||(a[3]=[o("path",{d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"},null,-1)]),2)),(s(),l("svg",{class:x(["w-3 h-3 -mt-1",c.value===t.key&&y.value==="desc"?"text-blue-600":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},a[4]||(a[4]=[o("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"},null,-1)]),2))])):b("",!0)])],8,Z))),128))])]),o("tbody",te,[e.loading?(s(),l(v,{key:0},g(5,t=>o("tr",{key:t},[(s(!0),l(v,null,g(e.columns,r=>(s(),l("td",{key:r.key,class:"px-6 py-4 whitespace-nowrap"},a[5]||(a[5]=[o("div",{class:"animate-pulse h-4 bg-gray-200 rounded"},null,-1)])))),128))])),64)):f.value.length===0?(s(),l("tr",ae,[o("td",{colspan:e.columns.length,class:"px-6 py-4 text-center text-gray-500"},u(e.emptyMessage),9,se)])):(s(!0),l(v,{key:2},g(M.value,(t,r)=>(s(),l("tr",{key:t.id||r,class:"hover:bg-gray-50"},[(s(!0),l(v,null,g(e.columns,i=>(s(),l("td",{key:i.key,class:x(["px-6 py-4 whitespace-nowrap",i.class])},[S(e.$slots,`cell-${i.key}`,{item:t,value:d(t,i.key),index:r},()=>[i.type==="date"?(s(),l("span",le,u(L(d(t,i.key))),1)):i.type==="currency"?(s(),l("span",re,u(P(d(t,i.key))),1)):(s(),l("span",oe,u(d(t,i.key)),1))])],2))),128))]))),128))])])]),e.paginated&&f.value.length>e.pageSize?(s(),l("div",ne,[o("div",ie,[o("div",ue," Showing "+u((p.value-1)*e.pageSize+1)+" to "+u(Math.min(p.value*e.pageSize,f.value.length))+" of "+u(f.value.length)+" results ",1),o("div",de,[z(V,{variant:"secondary",size:"sm",disabled:p.value===1,onClick:a[1]||(a[1]=t=>p.value--)},{default:_(()=>a[6]||(a[6]=[B(" Previous ")])),_:1,__:[6]},8,["disabled"]),z(V,{variant:"secondary",size:"sm",disabled:p.value===$.value,onClick:a[2]||(a[2]=t=>p.value++)},{default:_(()=>a[7]||(a[7]=[B(" Next ")])),_:1,__:[7]},8,["disabled"])])])])):b("",!0)]),_:3},8,["title","subtitle"]))}});export{pe as _};
