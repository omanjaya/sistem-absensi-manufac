import{a as K}from"./index-CpcTDv9q.js";import{_ as c,a as z}from"./Toast.vue_vue_type_style_index_0_scoped_caf7d6d7_lang-C7Vi0Lv3.js";import{a as Q,_ as w}from"./MetricCard.vue_vue_type_script_setup_true_lang-MRCzEDgO.js";import{_ as f}from"./Form.vue_vue_type_script_setup_true_lang-Cf_hhWd7.js";import{_ as X}from"./Modal.vue_vue_type_script_setup_true_lang-B2LSZhV7.js";import{_ as ee}from"./Table.vue_vue_type_script_setup_true_lang-BoFOdIMn.js";import{r as I}from"./PlayIcon-B6RN7Pcz.js";import{e as _,E as m,s as t,d as te,r,O as ae,c as se,b as oe,H as o,B as s,l as i,t as d,q as U,v as u,j as $,F as A,z as le,f as ie,g as re}from"./vendor-5hdk-FM1.js";import{r as ne}from"./ClockIcon-CBPLoeYF.js";import{r as de}from"./FolderIcon-BNgd2JSl.js";import{r as ue}from"./CheckCircleIcon-CxojgCya.js";import{r as ce}from"./ChartBarIcon-C6LZcBBN.js";function me(D,g){return m(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"})])}function pe(D,g){return m(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"})])}const ve={class:"min-h-screen bg-gray-50"},_e={class:"bg-white shadow-sm border-b border-gray-200"},fe={class:"px-4 sm:px-6 lg:px-8 py-6"},ge={class:"flex items-center justify-between"},ye={class:"flex items-center space-x-3"},Te={class:"p-6 space-y-6"},ke={class:"text-center space-y-6"},be={class:"text-6xl font-mono font-bold text-gray-900"},xe={key:0,class:"space-y-2"},he={class:"text-lg font-medium text-gray-900"},we={class:"text-gray-600"},je={class:"flex items-center justify-center space-x-4"},Ce={key:1,class:"max-w-md mx-auto"},Se={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Ve={class:"space-y-4"},$e={class:"flex items-center space-x-3"},De={class:"text-sm font-medium"},Ee={class:"text-xs text-gray-500"},Me={class:"flex items-center space-x-4"},Pe={class:"text-right"},Ne={class:"text-sm font-medium"},ze={class:"text-xs text-gray-500"},Ie={class:"w-24 bg-gray-200 rounded-full h-2"},Ue={class:"flex space-x-2"},Ae={class:"flex items-center space-x-2"},Be={class:"text-sm font-medium"},qe={class:"text-sm font-medium"},Fe={class:"text-sm text-gray-900"},Oe={class:"flex space-x-1"},Re={class:"space-y-6"},We={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},He={class:"p-4 bg-gray-50 rounded-lg"},Ye={class:"text-sm text-gray-600"},Ze={class:"font-medium"},Ge={class:"flex space-x-2"},nt=te({__name:"TimeTracking",setup(D){const g=K(),j=r(""),b=r(!1),E=r(!1),B=r(!1),C=r(!1),q=r(!1),S=r(!1),y=r(0),M=r(null);r(0);const p=r(null),v=ae({project_id:"",description:"",start_time:null,end_time:null}),P=r([{id:1,name:"Website Redesign"},{id:2,name:"Mobile App Development"},{id:3,name:"Database Migration"}]),V=r([{id:1,project_name:"Employee Portal",description:"Frontend development - login page",duration:7200,date:"2024-01-19",start_time:"09:00",end_time:"11:00"},{id:2,project_name:"Mobile App",description:"Bug fixes and testing",duration:5400,date:"2024-01-19",start_time:"13:00",end_time:"14:30"},{id:3,project_name:"Database Migration",description:"Data migration scripts",duration:10800,date:"2024-01-18",start_time:"14:00",end_time:"17:00"}]),x=r({totalTime:25200,activeProjects:3,completedTasks:8,productivity:85}),h=r({project_name:"",description:"",project_id:""}),F=r([{date:"2024-01-15",dayName:"Monday",totalTime:28800,projectCount:4,isToday:!1},{date:"2024-01-16",dayName:"Tuesday",totalTime:25200,projectCount:3,isToday:!1},{date:"2024-01-17",dayName:"Wednesday",totalTime:30600,projectCount:5,isToday:!1},{date:"2024-01-18",dayName:"Thursday",totalTime:27e3,projectCount:3,isToday:!1},{date:"2024-01-19",dayName:"Friday",totalTime:25200,projectCount:3,isToday:!0},{date:"2024-01-20",dayName:"Saturday",totalTime:0,projectCount:0,isToday:!1},{date:"2024-01-21",dayName:"Sunday",totalTime:0,projectCount:0,isToday:!1}]),n=r({project_id:"",description:"",date:new Date().toISOString().split("T")[0],start_time:"",end_time:""}),O=r({project_id:""}),N=se(()=>[{value:"",label:"Select Project"},...P.value.map(l=>({value:l.id.toString(),label:l.name}))]),R=[{key:"project",label:"Project",sortable:!0},{key:"description",label:"Description",sortable:!1},{key:"duration",label:"Duration",sortable:!0},{key:"date",label:"Date",sortable:!0},{key:"actions",label:"Actions",sortable:!1}],W=[{key:"project_name",label:"Project",options:P.value.map(l=>({value:l.name,label:l.name}))}];function T(l){const e=Math.floor(l/3600),a=Math.floor(l%3600/60),k=l%60;return`${e.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`}function L(l){return new Date(l).toLocaleDateString()}function H(){if(!n.value.start_time||!n.value.end_time)return"0:00";const l=new Date(`2024-01-01 ${n.value.start_time}`),a=new Date(`2024-01-01 ${n.value.end_time}`).getTime()-l.getTime();if(a<=0)return"0:00";const k=Math.floor(a/(1e3*60*60)),J=Math.floor(a%(1e3*60*60)/(1e3*60));return`${k}:${J.toString().padStart(2,"0")}`}function Y(){if(!v.project_id){g.error("Please select a project first");return}S.value=!0,M.value=new Date,v.start_time=M.value,p.value=setInterval(()=>{y.value++},1e3),g.success("Timer started!")}function Z(){p.value&&(clearInterval(p.value),p.value=null),S.value=!1,g.info("Timer paused")}function G(){var l;if(p.value&&(clearInterval(p.value),p.value=null),y.value>0){const e={id:V.value.length+1,project_id:parseInt(v.project_id),description:v.description,duration:y.value,date:new Date().toISOString().split("T")[0],start_time:((l=v.start_time)==null?void 0:l.toTimeString().slice(0,5))||"",end_time:new Date().toTimeString().slice(0,5)};V.value.unshift(e),g.success(`Time entry saved: ${T(y.value)}`)}S.value=!1,y.value=0,v.project_id="",v.description="",v.start_time=null,v.end_time=null}return oe(()=>{p.value&&clearInterval(p.value)}),(l,e)=>(m(),_("div",ve,[t("div",_e,[t("div",fe,[t("div",ge,[e[11]||(e[11]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"Time Tracking"),t("p",{class:"mt-1 text-sm text-gray-500"}," Track your work hours and manage time entries ")],-1)),t("div",ye,[o(s(f),{type:"select",modelValue:j.value,"onUpdate:modelValue":e[0]||(e[0]=a=>j.value=a),options:N.value,placeholder:"Select project"},null,8,["modelValue","options"]),o(s(c),{variant:"primary",onClick:e[1]||(e[1]=a=>b.value=!0)},{default:i(()=>e[10]||(e[10]=[d(" Manual Entry ")])),_:1,__:[10]})])])])]),t("div",Te,[o(s(z),{title:"Active Timer",subtitle:"Start tracking time for your current task"},{default:i(()=>[t("div",ke,[t("div",be,u(T(y.value)),1),C.value?(m(),_("div",xe,[t("p",he,u(h.value.project_name),1),t("p",we,u(h.value.description),1),o(s(Q),{variant:"success",label:"Recording"})])):U("",!0),t("div",je,[C.value?(m(),_(A,{key:1},[q.value?(m(),$(s(c),{key:1,variant:"primary",size:"lg",onClick:l.resumeTimer},{default:i(()=>[o(s(I),{class:"w-5 h-5 mr-2"}),e[14]||(e[14]=d(" Resume "))]),_:1,__:[14]},8,["onClick"])):(m(),$(s(c),{key:0,variant:"warning",size:"lg",onClick:Z},{default:i(()=>[o(s(me),{class:"w-5 h-5 mr-2"}),e[13]||(e[13]=d(" Pause "))]),_:1,__:[13]})),o(s(c),{variant:"danger",size:"lg",onClick:G},{default:i(()=>[o(s(pe),{class:"w-5 h-5 mr-2"}),e[15]||(e[15]=d(" Stop "))]),_:1,__:[15]})],64)):(m(),$(s(c),{key:0,variant:"primary",size:"lg",onClick:Y,disabled:!j.value},{default:i(()=>[o(s(I),{class:"w-5 h-5 mr-2"}),e[12]||(e[12]=d(" Start Timer "))]),_:1,__:[12]},8,["disabled"]))]),C.value?(m(),_("div",Ce,[o(s(f),{modelValue:h.value.description,"onUpdate:modelValue":e[2]||(e[2]=a=>h.value.description=a),placeholder:"What are you working on?",onInput:l.updateTaskDescription},null,8,["modelValue","onInput"])])):U("",!0)])]),_:1}),t("div",Se,[o(s(w),{label:"Today's Total",value:T(x.value.totalTime),icon:s(ne),"icon-bg":"blue",description:"total hours worked","show-change":"false"},null,8,["value","icon"]),o(s(w),{label:"Active Projects",value:x.value.activeProjects,icon:s(de),"icon-bg":"green",description:"projects worked on","show-change":"false"},null,8,["value","icon"]),o(s(w),{label:"Completed Tasks",value:x.value.completedTasks,icon:s(ue),"icon-bg":"purple",description:"tasks finished","show-change":"false"},null,8,["value","icon"]),o(s(w),{label:"Productivity",value:x.value.productivity+"%",icon:s(ce),"icon-bg":"yellow",description:"vs yesterday","show-change":"false"},null,8,["value","icon"])]),o(s(z),{title:"Weekly Overview",subtitle:"Time tracking summary for this week"},{default:i(()=>[t("div",Ve,[(m(!0),_(A,null,le(F.value,a=>(m(),_("div",{key:a.date,class:"flex items-center justify-between p-3 rounded-lg border"},[t("div",$e,[t("div",{class:ie(["w-3 h-3 rounded-full",a.isToday?"bg-blue-500":"bg-gray-300"])},null,2),t("div",null,[t("p",De,u(a.dayName),1),t("p",Ee,u(a.date),1)])]),t("div",Me,[t("div",Pe,[t("p",Ne,u(T(a.totalTime)),1),t("p",ze,u(a.projectCount)+" projects",1)]),t("div",Ie,[t("div",{class:"h-2 rounded-full bg-blue-500",style:re(`width: ${a.totalTime/28800*100}%`)},null,4)])])]))),128))])]),_:1}),o(s(ee),{title:"Recent Time Entries",subtitle:"Your time tracking history",data:V.value,columns:R,searchable:"","search-placeholder":"Search entries...",filterable:!0,filters:W,paginated:!0,"page-size":10},{headerActions:i(()=>[t("div",Ue,[o(s(c),{variant:"secondary",onClick:l.exportTimeEntries},{default:i(()=>e[16]||(e[16]=[d(" Export CSV ")])),_:1,__:[16]},8,["onClick"]),o(s(c),{variant:"primary",onClick:e[3]||(e[3]=a=>b.value=!0)},{default:i(()=>e[17]||(e[17]=[d(" Add Manual Entry ")])),_:1,__:[17]})])]),"cell-project":i(({item:a})=>[t("div",Ae,[e[18]||(e[18]=t("div",{class:"w-3 h-3 rounded-full bg-blue-500"},null,-1)),t("span",Be,u(a.project_name),1)])]),"cell-duration":i(({value:a})=>[t("span",qe,u(T(a)),1)]),"cell-date":i(({value:a})=>[t("span",Fe,u(L(a)),1)]),"cell-actions":i(({item:a})=>[t("div",Oe,[o(s(c),{variant:"ghost",size:"sm",onClick:k=>l.editTimeEntry(a)},{default:i(()=>e[19]||(e[19]=[d(" Edit ")])),_:2,__:[19]},1032,["onClick"]),o(s(c),{variant:"ghost",size:"sm",onClick:k=>l.deleteTimeEntry(a.id)},{default:i(()=>e[20]||(e[20]=[d(" Delete ")])),_:2,__:[20]},1032,["onClick"])])]),_:1},8,["data"]),o(s(X),{show:b.value,"onUpdate:show":e[9]||(e[9]=a=>b.value=a),title:E.value?"Edit Time Entry":"Add Manual Time Entry",size:"lg"},{footer:i(()=>[t("div",Ge,[o(s(c),{variant:"secondary",onClick:l.closeEntryModal},{default:i(()=>e[22]||(e[22]=[d("Cancel")])),_:1,__:[22]},8,["onClick"]),o(s(c),{variant:"primary",onClick:l.saveTimeEntry,loading:B.value},{default:i(()=>[d(u(E.value?"Update":"Save")+" Entry ",1)]),_:1},8,["onClick","loading"])])]),default:i(()=>[t("div",Re,[t("div",We,[o(s(f),{modelValue:n.value.project_id,"onUpdate:modelValue":e[4]||(e[4]=a=>n.value.project_id=a),type:"select",label:"Project",options:N.value,required:!0,error:O.value.project_id},null,8,["modelValue","options","error"]),o(s(f),{modelValue:n.value.date,"onUpdate:modelValue":e[5]||(e[5]=a=>n.value.date=a),type:"date",label:"Date",required:!0},null,8,["modelValue"])]),o(s(f),{modelValue:n.value.description,"onUpdate:modelValue":e[6]||(e[6]=a=>n.value.description=a),type:"textarea",label:"Task Description",placeholder:"What did you work on?",rows:3,required:!0},null,8,["modelValue"]),t("div",Le,[o(s(f),{modelValue:n.value.start_time,"onUpdate:modelValue":e[7]||(e[7]=a=>n.value.start_time=a),type:"time",label:"Start Time",required:!0},null,8,["modelValue"]),o(s(f),{modelValue:n.value.end_time,"onUpdate:modelValue":e[8]||(e[8]=a=>n.value.end_time=a),type:"time",label:"End Time",required:!0},null,8,["modelValue"])]),t("div",He,[t("p",Ye,[e[21]||(e[21]=d(" Duration: ")),t("span",Ze,u(H()),1)])])])]),_:1},8,["show","title"])])]))}});export{nt as default};
